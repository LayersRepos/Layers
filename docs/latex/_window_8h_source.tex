\hypertarget{_window_8h_source}{}\doxysection{Window.\+h}
\label{_window_8h_source}\index{include/Window.h@{include/Window.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef WINDOW\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define WINDOW\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}CreateNewThemeDialog.h"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}CustomizeMenu.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}GradientSelectionDialog.h"{}}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}SettingsMenu.h"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}Titlebar.h"{}}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}UpdateDialog.h"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{namespace }Layers}
\DoxyCodeLine{12 \{}
\DoxyCodeLine{13     \textcolor{keyword}{class }\mbox{\hyperlink{class_layers_1_1_window}{Window}} : \textcolor{keyword}{public} \mbox{\hyperlink{class_layers_1_1_widget}{Widget}}}
\DoxyCodeLine{14     \{}
\DoxyCodeLine{15         Q\_OBJECT}
\DoxyCodeLine{16 }
\DoxyCodeLine{17     \textcolor{keyword}{public}:}
\DoxyCodeLine{18         \mbox{\hyperlink{class_layers_1_1_window}{Window}}(\textcolor{keywordtype}{bool} preview = \textcolor{keyword}{false}, QWidget* parent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{19 }
\DoxyCodeLine{20         \textcolor{keywordtype}{void} add\_menu(\mbox{\hyperlink{class_layers_1_1_menu}{Menu}}* menu);}
\DoxyCodeLine{21 }
\DoxyCodeLine{22         \mbox{\hyperlink{class_layers_1_1_menu}{Menu}}* app\_menu() \textcolor{keyword}{const};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_window_a5a0badc67b976fa520d51550429362c2}{apply\_theme}}(\mbox{\hyperlink{class_layers_1_1_theme}{Theme}}\& theme);}
\DoxyCodeLine{25 }
\DoxyCodeLine{26         \textcolor{keywordtype}{void} assign\_tag\_prefixes();}
\DoxyCodeLine{27 }
\DoxyCodeLine{28         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{29         \textcolor{keywordtype}{void} build\_main\_widget();}
\DoxyCodeLine{30 }
\DoxyCodeLine{31         \textcolor{keywordtype}{void} center\_dialog(QDialog* dialog);}
\DoxyCodeLine{32 }
\DoxyCodeLine{33         \mbox{\hyperlink{class_layers_1_1_gradient_selection_dialog}{GradientSelectionDialog}}* control\_gradient\_selection\_dialog() \textcolor{keyword}{const};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35         \mbox{\hyperlink{class_layers_1_1_customize_menu}{CustomizeMenu}}* customize\_menu() \textcolor{keyword}{const};}
\DoxyCodeLine{36 }
\DoxyCodeLine{37         \textcolor{keywordtype}{void} finalize();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39         \textcolor{keywordtype}{void} link\_theme\_name(\textcolor{keyword}{const} QString\& \mbox{\hyperlink{class_layers_1_1_themeable_a69b5ef077cdbb52074fcc68db129c093}{name}});}
\DoxyCodeLine{40 }
\DoxyCodeLine{41         \textcolor{keywordtype}{void} set\_main\_widget(\mbox{\hyperlink{class_layers_1_1_widget}{Widget}}* main\_widget);}
\DoxyCodeLine{42 }
\DoxyCodeLine{43         \textcolor{keywordtype}{void} set\_window\_icon(\textcolor{keyword}{const} \mbox{\hyperlink{class_layers_1_1_graphic}{Graphic}}\& icon\_graphic);}
\DoxyCodeLine{44 }
\DoxyCodeLine{45         \textcolor{keywordtype}{void} set\_window\_title(\textcolor{keyword}{const} QString\& title);}
\DoxyCodeLine{46 }
\DoxyCodeLine{47         \mbox{\hyperlink{class_layers_1_1_settings_menu}{SettingsMenu}}* settings\_menu() \textcolor{keyword}{const};}
\DoxyCodeLine{48 }
\DoxyCodeLine{49         \mbox{\hyperlink{class_layers_1_1_titlebar}{Titlebar}}* titlebar() \textcolor{keyword}{const};}
\DoxyCodeLine{50 }
\DoxyCodeLine{51         \textcolor{keywordtype}{void} update\_theme\_dependencies();}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     \textcolor{keyword}{public} slots:}
\DoxyCodeLine{54         \textcolor{keywordtype}{void} customize\_clicked();}
\DoxyCodeLine{55         \textcolor{keywordtype}{void} exit\_clicked();}
\DoxyCodeLine{56         \textcolor{keywordtype}{void} maximize\_clicked();}
\DoxyCodeLine{57         \textcolor{keywordtype}{void} minimize\_clicked();}
\DoxyCodeLine{58         \textcolor{keywordtype}{void} new\_theme\_clicked();}
\DoxyCodeLine{59         \textcolor{keywordtype}{void} open\_menu(\mbox{\hyperlink{class_layers_1_1_menu}{Menu}}* menu);}
\DoxyCodeLine{60         \textcolor{keywordtype}{void} settings\_clicked();}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{keyword}{protected}:}
\DoxyCodeLine{63         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_window_abcae06c266c64194125b7670bad152e1}{init\_child\_themeable\_reference\_list}}();}
\DoxyCodeLine{64 }
\DoxyCodeLine{65         \textcolor{keywordtype}{bool} nativeEvent(\textcolor{keyword}{const} QByteArray\& eventType, \textcolor{keywordtype}{void}* message, qintptr* result) \textcolor{keyword}{override};}
\DoxyCodeLine{66 }
\DoxyCodeLine{67         \textcolor{keywordtype}{void} paintEvent(QPaintEvent* event) \textcolor{keyword}{override};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keyword}{private}:}
\DoxyCodeLine{70         \textcolor{keywordtype}{void} setup\_layout();}
\DoxyCodeLine{71 }
\DoxyCodeLine{72         \textcolor{keywordtype}{bool} m\_maximized\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{73         \textcolor{keywordtype}{bool} m\_preview\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         \mbox{\hyperlink{class_layers_1_1_create_new_theme_dialog}{CreateNewThemeDialog}}* m\_create\_new\_theme\_dialog\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_create_new_theme_dialog}{CreateNewThemeDialog}} \};}
\DoxyCodeLine{76 }
\DoxyCodeLine{77         \mbox{\hyperlink{class_layers_1_1_gradient_selection_dialog}{GradientSelectionDialog}}* m\_control\_gradient\_selection\_dialog\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_gradient_selection_dialog}{GradientSelectionDialog}}(QGradientStops()) \};}
\DoxyCodeLine{78 }
\DoxyCodeLine{79         \mbox{\hyperlink{class_layers_1_1_update_dialog}{UpdateDialog}}* m\_control\_update\_dialog\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_update_dialog}{UpdateDialog}}(\textcolor{stringliteral}{"{}"{}}, \textcolor{stringliteral}{"{}"{}})\};}
\DoxyCodeLine{80 }
\DoxyCodeLine{81         QVBoxLayout* m\_app\_menu\_layout\{ \textcolor{keyword}{new} QVBoxLayout \};}
\DoxyCodeLine{82         QVBoxLayout* m\_main\_layout\{ \textcolor{keyword}{new} QVBoxLayout \};}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         QList<Menu*> m\_menus;}
\DoxyCodeLine{85         QList<Menu*> m\_menu\_stack;}
\DoxyCodeLine{86 }
\DoxyCodeLine{87         \mbox{\hyperlink{class_layers_1_1_titlebar}{Titlebar}}* m\_titlebar\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_titlebar}{Titlebar}} \};}
\DoxyCodeLine{88 }
\DoxyCodeLine{89         \textcolor{comment}{// TODO: Make Menu constructor that does not require an icon}}
\DoxyCodeLine{90         \mbox{\hyperlink{class_layers_1_1_menu}{Menu}}* m\_app\_menu\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_menu}{Menu}}(\textcolor{stringliteral}{"{}App"{}}, \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_graphic}{Graphic}}(\textcolor{stringliteral}{"{}:/svgs/settings\_animated.svg"{}}, QSize(24, 24))) \};}
\DoxyCodeLine{91 }
\DoxyCodeLine{92         \mbox{\hyperlink{class_layers_1_1_settings_menu}{SettingsMenu}}* m\_settings\_menu\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_settings_menu}{SettingsMenu}} \};}
\DoxyCodeLine{93 }
\DoxyCodeLine{94         \mbox{\hyperlink{class_layers_1_1_customize_menu}{CustomizeMenu}}* m\_customize\_menu\{ \textcolor{keyword}{new} \mbox{\hyperlink{class_layers_1_1_customize_menu}{CustomizeMenu}} \};}
\DoxyCodeLine{95 }
\DoxyCodeLine{96         \mbox{\hyperlink{class_layers_1_1_widget}{Widget}}* m\_main\_widget\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{97     \};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{100     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Window::build\_main\_widget()}
\DoxyCodeLine{101     \{}
\DoxyCodeLine{102         m\_main\_widget = \textcolor{keyword}{new} T;}
\DoxyCodeLine{103 }
\DoxyCodeLine{104         \textcolor{comment}{//m\_main\_widget-\/>set\_icon(new Graphic(layersApp-\/>icon\_file()-\/>fileName()));}}
\DoxyCodeLine{105         m\_main\_widget-\/>set\_is\_app\_themeable(\textcolor{keyword}{true});}
\DoxyCodeLine{106         \textcolor{comment}{//m\_main\_widget-\/>apply\_theme(*layersApp-\/>current\_theme());}}
\DoxyCodeLine{107         m\_main\_widget-\/>\mbox{\hyperlink{class_layers_1_1_themeable_a1cf931b355c0d658d5c913af8e49edb6}{apply\_theme}}(*m\_current\_theme);}
\DoxyCodeLine{108 }
\DoxyCodeLine{109         \mbox{\hyperlink{class_layers_1_1_themeable_ad89c09e860d259ab5752df92a989cd02}{store\_child\_themeable\_pointer}}(m\_main\_widget);}
\DoxyCodeLine{110 }
\DoxyCodeLine{111         m\_app\_menu\_layout-\/>addWidget(m\_main\_widget);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113         \textcolor{keywordflow}{if} (m\_customize\_menu-\/>preview\_widget())}
\DoxyCodeLine{114         \{}
\DoxyCodeLine{115             \mbox{\hyperlink{class_layers_1_1_window}{Window}}* preview\_window = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_layers_1_1_window}{Window}}*\textcolor{keyword}{>}(m\_customize\_menu-\/>preview\_widget());}
\DoxyCodeLine{116 }
\DoxyCodeLine{117             \textcolor{keywordflow}{if} (preview\_window)}
\DoxyCodeLine{118                 preview\_window-\/>build\_main\_widget<T>();}
\DoxyCodeLine{119         \}}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 \}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// WINDOW\_H}}

\end{DoxyCode}
