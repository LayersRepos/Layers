\hypertarget{_themeable_8h_source}{}\doxysection{Themeable.\+h}
\label{_themeable_8h_source}\index{include/Themeable.h@{include/Themeable.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef THEMEABLE\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define THEMEABLE\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}AttributeGroup.h"{}}}
\DoxyCodeLine{5 }
\DoxyCodeLine{6 \textcolor{keyword}{namespace }Layers}
\DoxyCodeLine{7 \{}
\DoxyCodeLine{8     \textcolor{keyword}{class }AttributeWidget;}
\DoxyCodeLine{9     \textcolor{keyword}{class }CustomizePanel;}
\DoxyCodeLine{10     \textcolor{keyword}{class }Graphic;}
\DoxyCodeLine{11     \textcolor{keyword}{class }Theme;}
\DoxyCodeLine{12 }
\DoxyCodeLine{33     \textcolor{keyword}{class }\mbox{\hyperlink{class_layers_1_1_themeable}{Themeable}}}
\DoxyCodeLine{34     \{}
\DoxyCodeLine{35     \textcolor{keyword}{public}:}
\DoxyCodeLine{36         \mbox{\hyperlink{class_layers_1_1_themeable}{\string~Themeable}}();}
\DoxyCodeLine{37 }
\DoxyCodeLine{47         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_ad89c09e860d259ab5752df92a989cd02}{store\_child\_themeable\_pointer}}(\mbox{\hyperlink{class_layers_1_1_themeable}{Themeable}}* child\_themeable);}
\DoxyCodeLine{48 }
\DoxyCodeLine{60         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a1cf931b355c0d658d5c913af8e49edb6}{apply\_theme}}(\mbox{\hyperlink{class_layers_1_1_theme}{Theme}}\& theme);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} apply\_theme\_attributes(QMap<QString, Entity*>\& theme\_attrs);}
\DoxyCodeLine{63 }
\DoxyCodeLine{74         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a72bbd5ac1f2e4ebb4e1b0bf63b157076}{assign\_tag\_prefixes}}(QList<QString> parent\_prefixes = QList<QString>(), \textcolor{keyword}{const} QString\& parent\_name = \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{75 }
\DoxyCodeLine{82         QMap<QString, Entity*>\& \mbox{\hyperlink{class_layers_1_1_themeable_af5ceb1e528ea1389ccac1430fc778128}{attributes}}();}
\DoxyCodeLine{83 }
\DoxyCodeLine{84         QList<Entity*>\& attribute\_layout();}
\DoxyCodeLine{85 }
\DoxyCodeLine{86         \textcolor{comment}{//QMap<QString, AttributeWidget*>\& attribute\_widgets();}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88         QList<Themeable*>\& child\_themeable\_references();}
\DoxyCodeLine{89 }
\DoxyCodeLine{90         \textcolor{keywordtype}{void} copy\_attribute\_values\_to(\mbox{\hyperlink{class_layers_1_1_theme}{Theme}}* theme);}
\DoxyCodeLine{91 }
\DoxyCodeLine{97         \mbox{\hyperlink{class_layers_1_1_theme}{Theme}}* \mbox{\hyperlink{class_layers_1_1_themeable_a307575be91e7169a73fccfcb21b7dff8}{current\_theme}}();}
\DoxyCodeLine{98 }
\DoxyCodeLine{104         \mbox{\hyperlink{class_layers_1_1_customize_panel}{CustomizePanel}}* \mbox{\hyperlink{class_layers_1_1_themeable_ac69a4f7e207dadce226ccd58efe7bdc5}{customize\_panel}}();}
\DoxyCodeLine{105 }
\DoxyCodeLine{111         \mbox{\hyperlink{class_layers_1_1_graphic}{Graphic}}* \mbox{\hyperlink{class_layers_1_1_themeable_a44348cb0e739908c52bf6d640215c1f4}{icon}}() \textcolor{keyword}{const};}
\DoxyCodeLine{112 }
\DoxyCodeLine{121         \textcolor{comment}{//void initialize\_and\_acquire\_panels(QList<CustomizePanel*>\& list);}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123         \textcolor{keywordtype}{bool} \mbox{\hyperlink{class_layers_1_1_themeable_a693634b06c973c840a8b185b1bdc0224}{is\_stateful}}() \textcolor{keyword}{const};}
\DoxyCodeLine{124 }
\DoxyCodeLine{131         \textcolor{comment}{//virtual void issue\_update() = 0;}}
\DoxyCodeLine{132 }
\DoxyCodeLine{133         QString* \mbox{\hyperlink{class_layers_1_1_themeable_a69b5ef077cdbb52074fcc68db129c093}{name}}() \textcolor{keyword}{const};}
\DoxyCodeLine{134 }
\DoxyCodeLine{140         QString* \mbox{\hyperlink{class_layers_1_1_themeable_aaf7bac3feceaf1fe625338dbff098189}{proper\_name}}() \textcolor{keyword}{const};}
\DoxyCodeLine{141 }
\DoxyCodeLine{147         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_ae09fdb49f042a29a3fb09179c50e4fcf}{reapply\_theme}}();}
\DoxyCodeLine{148 }
\DoxyCodeLine{154         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_ae3916991fcd49e3024302744564a06be}{remove\_child\_themeable\_reference}}(\mbox{\hyperlink{class_layers_1_1_themeable}{Themeable}}* child\_themeable);}
\DoxyCodeLine{155 }
\DoxyCodeLine{156         \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{157         \textcolor{keywordtype}{void} replace\_all\_attributes\_with(T* themeable);}
\DoxyCodeLine{158 }
\DoxyCodeLine{159         \textcolor{keywordtype}{void} set\_is\_app\_themeable(\textcolor{keywordtype}{bool} is\_app\_themeable);}
\DoxyCodeLine{160 }
\DoxyCodeLine{161         \textcolor{keywordtype}{void} set\_functionality\_disabled(\textcolor{keywordtype}{bool} disabled = \textcolor{keyword}{true});}
\DoxyCodeLine{162 }
\DoxyCodeLine{163         \textcolor{comment}{//void set\_attribute\_value(}}
\DoxyCodeLine{164         \textcolor{comment}{//  const QString\& state,}}
\DoxyCodeLine{165         \textcolor{comment}{//  const QString\& attribute\_name,}}
\DoxyCodeLine{166         \textcolor{comment}{//  QVariant value);}}
\DoxyCodeLine{167 }
\DoxyCodeLine{168         \textcolor{comment}{//void set\_attribute\_value(}}
\DoxyCodeLine{169         \textcolor{comment}{//  const QString\& attribute\_name,}}
\DoxyCodeLine{170         \textcolor{comment}{//  QVariant value);}}
\DoxyCodeLine{171 }
\DoxyCodeLine{177         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a647a8657ead007473eafaa4ccb6cd4af}{set\_icon}}(\mbox{\hyperlink{class_layers_1_1_graphic}{Graphic}}* \mbox{\hyperlink{class_layers_1_1_themeable_a44348cb0e739908c52bf6d640215c1f4}{icon}});}
\DoxyCodeLine{178 }
\DoxyCodeLine{187         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a78f9b10993fcef1557aeba1bc75e5c90}{set\_name}}(\textcolor{keyword}{const} QString\& \mbox{\hyperlink{class_layers_1_1_themeable_a69b5ef077cdbb52074fcc68db129c093}{name}});}
\DoxyCodeLine{188 }
\DoxyCodeLine{197         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a00802c07a93a1eefdbcf74a5c04b863b}{set\_proper\_name}}(\textcolor{keyword}{const} QString\& \mbox{\hyperlink{class_layers_1_1_themeable_aaf7bac3feceaf1fe625338dbff098189}{proper\_name}});}
\DoxyCodeLine{198 }
\DoxyCodeLine{206         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a93ad187cb208ad9ba7b196c05d8f8d29}{set\_state}}(\textcolor{keyword}{const} QString\& state);}
\DoxyCodeLine{207 }
\DoxyCodeLine{208         QString state() \textcolor{keyword}{const};}
\DoxyCodeLine{209 }
\DoxyCodeLine{216         \textcolor{comment}{//QMap<QString, StatefulAttribute>\& stateful\_attributes();}}
\DoxyCodeLine{217 }
\DoxyCodeLine{223         QList<QString> \mbox{\hyperlink{class_layers_1_1_themeable_a080406efdd426b24c701a0dbcb419a70}{states}}() \textcolor{keyword}{const};}
\DoxyCodeLine{224 }
\DoxyCodeLine{241         QString\& \mbox{\hyperlink{class_layers_1_1_themeable_a02ae7b73daf23e11541f5fe7ff3b4f29}{tag}}();}
\DoxyCodeLine{242 }
\DoxyCodeLine{249         \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_afe536c581c3299ddfc8c632f9b3b2e2e}{unassign\_prefixes}}();}
\DoxyCodeLine{250 }
\DoxyCodeLine{258         \textcolor{comment}{//virtual void update\_theme\_dependencies();}}
\DoxyCodeLine{259 }
\DoxyCodeLine{260     \textcolor{keyword}{protected}:}
\DoxyCodeLine{270         \textcolor{comment}{//void init\_attributes();}}
\DoxyCodeLine{271 }
\DoxyCodeLine{272         \textcolor{comment}{//virtual void init\_attribute\_widgets();}}
\DoxyCodeLine{273 }
\DoxyCodeLine{284         \textcolor{comment}{//CustomizePanel* init\_customize\_panel();}}
\DoxyCodeLine{285 }
\DoxyCodeLine{297         \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_layers_1_1_themeable_a85caf98f853b46cb62b72a29f32c3227}{init\_child\_themeable\_reference\_list}}();}
\DoxyCodeLine{298 }
\DoxyCodeLine{299         \textcolor{keywordtype}{bool} m\_functionality\_disabled\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{300         \textcolor{keywordtype}{bool} m\_tag\_prefixes\_assigned\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{301         \textcolor{keywordtype}{bool} m\_shared\_attributes\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{302         \textcolor{keywordtype}{bool} m\_is\_app\_themeable\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{303         \textcolor{keywordtype}{bool} m\_is\_stateful\{ \textcolor{keyword}{false} \};}
\DoxyCodeLine{304 }
\DoxyCodeLine{305         \mbox{\hyperlink{class_layers_1_1_customize_panel}{CustomizePanel}}* m\_customize\_panel\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{306 }
\DoxyCodeLine{307         \mbox{\hyperlink{class_layers_1_1_graphic}{Graphic}}* m\_icon\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{308 }
\DoxyCodeLine{309         QString* m\_name\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{310         QString* m\_proper\_name\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{311         QString m\_state\{ \textcolor{stringliteral}{"{}"{}} \};}
\DoxyCodeLine{312         QString m\_tag\{ \textcolor{stringliteral}{"{}"{}} \};}
\DoxyCodeLine{313 }
\DoxyCodeLine{314         \textcolor{comment}{//QMap<QString, bool> m\_ACW\_pre\_init\_primary\_values\{ QMap<QString, bool>() \};}}
\DoxyCodeLine{315         \textcolor{comment}{//QMap<QString, AttributeWidget*> m\_attribute\_widgets\{ QMap<QString, AttributeWidget*>() \};}}
\DoxyCodeLine{316 }
\DoxyCodeLine{317         QList<Entity*> m\_attribute\_layout\{ QList<Entity*>() \};}
\DoxyCodeLine{318 }
\DoxyCodeLine{319         QMap<QString, Entity*> m\_attributes\{ QMap<QString, Entity*>() \};}
\DoxyCodeLine{320 }
\DoxyCodeLine{321         QList<Themeable*> m\_child\_themeables;}
\DoxyCodeLine{322 }
\DoxyCodeLine{323         QList<QString> m\_filtered\_attributes;}
\DoxyCodeLine{324         QList<QString> m\_tag\_prefixes;}
\DoxyCodeLine{325 }
\DoxyCodeLine{326         \mbox{\hyperlink{class_layers_1_1_theme}{Theme}}* m\_current\_theme\{ \textcolor{keyword}{nullptr} \};}
\DoxyCodeLine{327     \};}
\DoxyCodeLine{328 }
\DoxyCodeLine{329     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{330     \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Themeable::replace\_all\_attributes\_with(T* themeable)}
\DoxyCodeLine{331     \{}
\DoxyCodeLine{332         \textcolor{keywordflow}{if} (\textcolor{keyword}{typeid}(*\textcolor{keyword}{this}) == \textcolor{keyword}{typeid}(*themeable))}
\DoxyCodeLine{333         \{}
\DoxyCodeLine{334             \textcolor{keywordflow}{for} (\textcolor{keyword}{const} QString\& entity\_key : m\_attributes.keys())}
\DoxyCodeLine{335             \{}
\DoxyCodeLine{336                 \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_layers_1_1_attribute}{Attribute}}* attr = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_layers_1_1_attribute}{Attribute}}*\textcolor{keyword}{>}(m\_attributes[entity\_key]))}
\DoxyCodeLine{337                     attr-\/>entangle\_with(*\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_layers_1_1_attribute}{Attribute}}*\textcolor{keyword}{>}(themeable-\/>m\_attributes[entity\_key]));}
\DoxyCodeLine{338                 \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{class_layers_1_1_attribute_group}{AttributeGroup}}* attr\_group = \textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_layers_1_1_attribute_group}{AttributeGroup}}*\textcolor{keyword}{>}(m\_attributes[entity\_key]))}
\DoxyCodeLine{339                     attr\_group-\/>entangle\_with(*\textcolor{keyword}{dynamic\_cast<}\mbox{\hyperlink{class_layers_1_1_attribute_group}{AttributeGroup}}*\textcolor{keyword}{>}(themeable-\/>m\_attributes[entity\_key]));}
\DoxyCodeLine{340             \}}
\DoxyCodeLine{341 }
\DoxyCodeLine{342             \textcolor{keywordflow}{for} (Themeable* this\_child\_themeable : m\_child\_themeables)}
\DoxyCodeLine{343                 \textcolor{keywordflow}{if} (this\_child\_themeable-\/>m\_name)}
\DoxyCodeLine{344                     \textcolor{keywordflow}{for} (Themeable* child\_themeable : themeable-\/>m\_child\_themeables)}
\DoxyCodeLine{345                         \textcolor{keywordflow}{if} (*child\_themeable-\/>m\_name == *this\_child\_themeable-\/>m\_name)}
\DoxyCodeLine{346                             this\_child\_themeable-\/>replace\_all\_attributes\_with(child\_themeable);}
\DoxyCodeLine{347         \}}
\DoxyCodeLine{348     \}}
\DoxyCodeLine{349 \}}
\DoxyCodeLine{350 }
\DoxyCodeLine{351 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// THEMEABLE\_H}}

\end{DoxyCode}
